<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>clj-shell.core documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Clj-shell</span> <span class="project-version">0.1.0-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 current"><a href="clj-shell.core.html"><div class="inner"><span>clj-shell.core</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="clj-shell.core.html#var-*cwd"><div class="inner"><span>*cwd</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-*cwd-history"><div class="inner"><span>*cwd-history</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var--.3Efile"><div class="inner"><span>-&gt;file</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-back.21"><div class="inner"><span>back!</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-cat"><div class="inner"><span>cat</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-cd.21"><div class="inner"><span>cd!</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-clipboard"><div class="inner"><span>clipboard</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-copy.21"><div class="inner"><span>copy!</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-cp.21"><div class="inner"><span>cp!</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-exists.3F"><div class="inner"><span>exists?</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-file-name"><div class="inner"><span>file-name</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-file-path"><div class="inner"><span>file-path</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-file-size"><div class="inner"><span>file-size</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-file-type"><div class="inner"><span>file-type</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-file.3F"><div class="inner"><span>file?</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-filter-tree"><div class="inner"><span>filter-tree</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-find"><div class="inner"><span>find</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-flatten-tree"><div class="inner"><span>flatten-tree</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-head"><div class="inner"><span>head</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-hidden.3F"><div class="inner"><span>hidden?</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-home-dir"><div class="inner"><span>home-dir</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-ls"><div class="inner"><span>ls</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-matches"><div class="inner"><span>matches</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-matches-exactly"><div class="inner"><span>matches-exactly</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-matches-regex"><div class="inner"><span>matches-regex</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-mv.21"><div class="inner"><span>mv!</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-paste"><div class="inner"><span>paste</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-print-tree"><div class="inner"><span>print-tree</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-pwd"><div class="inner"><span>pwd</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-rm.21"><div class="inner"><span>rm!</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-tail"><div class="inner"><span>tail</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-tree"><div class="inner"><span>tree</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-up.21"><div class="inner"><span>up!</span></div></a></li><li class="depth-1"><a href="clj-shell.core.html#var-walk-tree"><div class="inner"><span>walk-tree</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">clj-shell.core</h1><div class="doc"><div class="markdown"><p>This ns contains the core api for clj-shell. It is designed to be used from the repl. Most of the function names mirror the names of unix shell commands (<code>ls</code>, <code>mv!</code>, etc.), but there are also some functions that have no analogous unix command (e.g. <code>paste</code>, <code>up!</code>, etc.).</p>
<p>Note: all ‘path’ arguments can be either string file paths (absolute, or relative to the current working directory) or java.io.File objects. Using <code>~</code> for the home directory is allowed.</p></div></div><div class="public anchor" id="var-*cwd"><h3>*cwd</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Atom containing the current working directory, used only by functions in this ns. Note that this is completely separate from the current working directory of the application. Avoid swap!-ing or reset!-ing this atom, use <a href="clj-shell.core.html#var-cd.21">cd!</a>, <a href="clj-shell.core.html#var-up.21">up!</a>, or <a href="clj-shell.core.html#var-back.21">back!</a> instead.</p></div></div></div><div class="public anchor" id="var-*cwd-history"><h3>*cwd-history</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Atom containing the history of the <a href="clj-shell.core.html#var-*cwd">*cwd</a> atom, not including the current value. It is recommended not to update this atom, and treat it as read-only.</p></div></div></div><div class="public anchor" id="var--.3Efile"><h3>-&gt;file</h3><div class="usage"><code>(-&gt;file path)</code></div><div class="doc"><div class="markdown"><p>Coerces the given path to a <code>java.io.File</code> object. If given a file object, will return it unchanged.</p></div></div></div><div class="public anchor" id="var-back.21"><h3>back!</h3><div class="usage"><code>(back!)</code></div><div class="doc"><div class="markdown"><p>Goes back to the previous current working directory (if there is one).</p></div></div></div><div class="public anchor" id="var-cat"><h3>cat</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns a string of the whole contents of the file at the given path.</p></div></div></div><div class="public anchor" id="var-cd.21"><h3>cd!</h3><div class="usage"><code>(cd! path)</code></div><div class="doc"><div class="markdown"><p>Changes the current working directory to the given path. Note: prefer calling <a href="clj-shell.core.html#var-back.21">back!</a> or <a href="clj-shell.core.html#var-up.21">up!</a> instead of passing ‘..’ or ‘-’ to this fn.</p></div></div></div><div class="public anchor" id="var-clipboard"><h3>clipboard</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>The system clipboard. See <a href="https://docs.oracle.com/javase/7/docs/api/java/awt/datatransfer/Clipboard.html">here</a> for available methods.</p></div></div></div><div class="public anchor" id="var-copy.21"><h3>copy!</h3><div class="usage"><code>(copy! s)</code></div><div class="doc"><div class="markdown"><p>Replaces the data in the clipboard with the given string s.</p></div></div></div><div class="public anchor" id="var-cp.21"><h3>cp!</h3><div class="usage"><code>(cp! source dest)</code></div><div class="doc"><div class="markdown"><p>Copies a file from <code>source</code> to <code>dest</code>.</p></div></div></div><div class="public anchor" id="var-exists.3F"><h3>exists?</h3><div class="usage"><code>(exists? path)</code></div><div class="doc"><div class="markdown"><p>Returns true if there is a file at the given path, false otherwise.</p></div></div></div><div class="public anchor" id="var-file-name"><h3>file-name</h3><div class="usage"><code>(file-name path)</code></div><div class="doc"><div class="markdown"><p>Returns the file name for the file at the given path.</p></div></div></div><div class="public anchor" id="var-file-path"><h3>file-path</h3><div class="usage"><code>(file-path path)</code></div><div class="doc"><div class="markdown"><p>Returns the absolute file path for the file at the given path.</p></div></div></div><div class="public anchor" id="var-file-size"><h3>file-size</h3><div class="usage"><code>(file-size path)</code></div><div class="doc"><div class="markdown"><p>Returns the size, in bytes, of the file at the given path.</p></div></div></div><div class="public anchor" id="var-file-type"><h3>file-type</h3><div class="usage"><code>(file-type path)</code></div><div class="doc"><div class="markdown"><p>Returns the file type of the given file/path.</p></div></div></div><div class="public anchor" id="var-file.3F"><h3>file?</h3><div class="usage"><code>(file? f)</code></div><div class="doc"><div class="markdown"><p>Returns true if f is a java.io.File object, false otherwise.</p></div></div></div><div class="public anchor" id="var-filter-tree"><h3>filter-tree</h3><div class="usage"><code>(filter-tree predicate t)</code></div><div class="doc"><div class="markdown"><p>Walks the given tree <code>t</code>, presumably returned from the <a href="clj-shell.core.html#var-tree">tree</a> fn, and filters out any files not matching the given predicate. Will remove any directories with no children from the returned tree.</p></div></div></div><div class="public anchor" id="var-find"><h3>find</h3><div class="usage"><code>(find predicate)</code><code>(find predicate path)</code></div><div class="doc"><div class="markdown"><p>Returns a seq of files under the directory at <code>path</code> (including those in subdirectories) that pass the given predicate. Will use the current working directory (<a href="clj-shell.core.html#var-*cwd">*cwd</a>) as <code>path</code> if no argument is provided.</p>
<p>The ‘matches*’ fns work well for composing the <code>predicate</code>, for example:</p>
<pre><code>(find (matches-exactly "project.clj" file-name))
</code></pre></div></div></div><div class="public anchor" id="var-flatten-tree"><h3>flatten-tree</h3><div class="usage"><code>(flatten-tree t)</code></div><div class="doc"><div class="markdown"><p>Returns a seq of all files (including directories) in the given tree</p></div></div></div><div class="public anchor" id="var-head"><h3>head</h3><div class="usage"><code>(head path)</code><code>(head path n)</code></div><div class="doc"><div class="markdown"><p>Returns a string of the first <code>n</code> lines of the file at the given path. Returns 10 lines if <code>n</code> is not provided.</p></div></div></div><div class="public anchor" id="var-hidden.3F"><h3>hidden?</h3><div class="usage"><code>(hidden? path)</code></div><div class="doc"><div class="markdown"><p>Returns true if the file at the given path is hidden (i.e. it is a dotfile), false otherwise.</p></div></div></div><div class="public anchor" id="var-home-dir"><h3>home-dir</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>The current user’s home directory</p></div></div></div><div class="public anchor" id="var-ls"><h3>ls</h3><div class="usage"><code>(ls)</code><code>(ls path)</code></div><div class="doc"><div class="markdown"><p>Lists the files in the directory at the given path. Will use the current working directory (<a href="clj-shell.core.html#var-*cwd">*cwd</a>) if no argument is provided. Returns a seq of <code>java.io.File</code> objects.</p></div></div></div><div class="public anchor" id="var-matches"><h3>matches</h3><div class="usage"><code>(matches value match-value-fn compare)</code></div><div class="doc"><div class="markdown"><p>Returns a predicate which applies <code>match-value-fn</code> to its input and compares it to <code>value</code>, using the <code>compare</code> fn.</p></div></div></div><div class="public anchor" id="var-matches-exactly"><h3>matches-exactly</h3><div class="usage"><code>(matches-exactly value match-value-fn)</code></div><div class="doc"><div class="markdown"><p>Returns a predicate that transforms its input using <code>match-value-fn</code>, and returns true iff the result is equal to <code>value</code>.</p></div></div></div><div class="public anchor" id="var-matches-regex"><h3>matches-regex</h3><div class="usage"><code>(matches-regex regex match-value-fn)</code></div><div class="doc"><div class="markdown"><p>Returns a predicate that transforms its input using <code>match-value-fn</code>, and returns true iff <code>regex</code> matches the result.</p></div></div></div><div class="public anchor" id="var-mv.21"><h3>mv!</h3><div class="usage"><code>(mv! source dest)</code></div><div class="doc"><div class="markdown"><p>Moves a file from <code>source</code> to <code>dest</code>.</p></div></div></div><div class="public anchor" id="var-paste"><h3>paste</h3><div class="usage"><code>(paste)</code></div><div class="doc"><div class="markdown"><p>Returns the data in the clipboard as a string.</p></div></div></div><div class="public anchor" id="var-print-tree"><h3>print-tree</h3><div class="usage"><code>(print-tree t)</code><code>(print-tree t opts)</code><code>(print-tree t {:keys [display-fn], :or {display-fn file-name}, :as opts} indent)</code></div><div class="doc"><div class="markdown"><p>Prints a tree, presumably returned from the <a href="clj-shell.core.html#var-tree">tree</a> fn, in a more readable format.</p>
<p>Opts: display-fn - single argument function, taking a <code>java.io.File</code> object, called for each file in the tree. Returns what should be printed for the given file.</p></div></div></div><div class="public anchor" id="var-pwd"><h3>pwd</h3><div class="usage"><code>(pwd)</code></div><div class="doc"><div class="markdown"><p>Returns the current working directory, i.e. the value of the <a href="clj-shell.core.html#var-*cwd">*cwd</a> atom.</p></div></div></div><div class="public anchor" id="var-rm.21"><h3>rm!</h3><div class="usage"><code>(rm! path)</code></div><div class="doc"><div class="markdown"><p>Removes the file at the given path.</p></div></div></div><div class="public anchor" id="var-tail"><h3>tail</h3><div class="usage"><code>(tail path)</code><code>(tail path n)</code></div><div class="doc"><div class="markdown"><p>Returns a string of the last <code>n</code> lines of the file at the given path. Returns 10 lines if <code>n</code> is not provided.</p></div></div></div><div class="public anchor" id="var-tree"><h3>tree</h3><div class="usage"><code>(tree)</code><code>(tree path)</code></div><div class="doc"><div class="markdown"><p>Returns a tree of all the files and directories under the given path. The returned tree is in the format <code>[directory '(file1 file2 [subdirectory '(file3)])]</code>. Will not follow symlinks.</p></div></div></div><div class="public anchor" id="var-up.21"><h3>up!</h3><div class="usage"><code>(up!)</code></div><div class="doc"><div class="markdown"><p>Moves the current working directory up one level.</p></div></div></div><div class="public anchor" id="var-walk-tree"><h3>walk-tree</h3><div class="usage"><code>(walk-tree f t)</code></div><div class="doc"><div class="markdown"><p>Walks the given tree <code>t</code>, presumably returned from the <a href="clj-shell.core.html#var-tree">tree</a> fn, and transforms each file by running it through <code>f</code>.</p></div></div></div></div></body></html>